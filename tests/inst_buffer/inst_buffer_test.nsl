#include "inst_buffer.h"

declare inst_buffer_test simulation {
	input idata[SIZEOF_FETCH_PACKET_T];
	func_in push(idata);
	output odata[SIZEOF_FETCH_PACKET_T];
	func_in pop() : odata;
	func_out full();
	func_out empty();
	func_in flush();
}

module inst_buffer_test {
	inst_buffer ibuf;
	fetch_packet_t reg packet;

	func push {
		ibuf.push(idata);
	}
	func pop {
		packet := ibuf.pop();
	}
	func ibuf.full {
		full();
	}
	func ibuf.empty {
		empty();
	}
	func flush {
		ibuf.flush();
	}
}
