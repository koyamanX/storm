#include "wishbone_master.h"
#include "wishbone_common.h"
#include "wishbone_syscon.h"
#include "wishbone_slave_nop.h"


declare wishbone_slave_nop_test simulation {

}

module wishbone_slave_nop_test {
	wishbone_syscon wb_syscon;
	wishbone_master wb_master0;
	wishbone_slave_nop wb_slave_nop0;
	reg r = 0;
	func_self tst();
	func_self nop();

	WISHBONE_P2P(wb_master0, wb_slave_nop0, wb_syscon);
	if(!r) {
		r := ~r;
		tst();
	}

	func tst seq {
		_display("Test starts");
		nop();
		wb_master0.req_read(0x00000000, 0x00);
		nop();
		nop();
		nop();
		_finish("Test ends");
	}
}
